# Irish-Name-Repo 1

Points: 300

## Question

> There is a website running at https://2019shell1.picoctf.com/problem/37868/ ([link](https://2019shell1.picoctf.com/problem/37868/)) or [http://2019shell1.picoctf.com:37868](http://2019shell1.picoctf.com:37868). Do you think you can log us in? Try to see if you can login!

### Hint

> There doesn't seem to be many ways to interact with this, I wonder if the users are kept in a database?
> Try to think about how does the website verify your login?

## Solution

Unlike several challenges so far, the password validation is not done on client side. It's on server side.

When you explore the web page a bit, in the support page, there is a mention of 'SQL error'. This should ring the bells about the exploit! (If it doesn't, then you aren't familiar with the exploit. No worries, you will know soon!)

So we go to the admin login page. Type in some random user name and password. You will get a login failed page. Now here, if you look at the HTTP POST request message, in the request body, you will see a debug=0 field. Hhm, let's switch it to 1 and see what happens.

Woah, we are shown the SQL query to the database from our entered fields! Awesome! (if you don't know about databases and SQL, then go through the basics of this. Google it!)

Okay now how do we get the flag with this? Note that based on the previous SQL query, the PHP statement for the SQL query looks like:
```php
$result = SELECT * FROM users WHERE name=' . $username . ' AND password=' . $password  '
``` 
(. is for concatenation in PHP)

Now how do we get access? Note that we have complete control over the username and password. Also note that the username we provide can also contain SQL statements...

```
username: ' OR 'a' == 'a
password: (empty)
```

The SQL query for the above query parameters is:
```mysql
SELECT * from users WHERE name='' OR 'a' == 'a' AND password=''
```

The condition will be true, regardless of username and password! This kinds of attack is known as SQL injection.
